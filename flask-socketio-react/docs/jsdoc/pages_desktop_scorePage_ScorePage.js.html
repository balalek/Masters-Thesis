<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>pages/desktop/scorePage/ScorePage.js - Home Quiz Documentation</title>
    
    <meta name="description" content="Documentation for the Home Quiz application" />
    
        <meta name="keywords" content="react, quiz, documentation" />
        <meta name="keyword" content="react, quiz, documentation" />
    
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-App.html">App</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-App.html#~App">App</a></li></ul></li><li><a href="module-Components_Desktop_Miscellaneous_GameCountdown.html">Components/Desktop/Miscellaneous/GameCountdown</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_GameCountdown.html#~GameCountdown">GameCountdown</a></li></ul></li><li><a href="module-Components_Desktop_Miscellaneous_ImageBlockReveal.html">Components/Desktop/Miscellaneous/ImageBlockReveal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_ImageBlockReveal.html#~ImageBlockReveal">ImageBlockReveal</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_ImageBlockReveal.html#~getContainerStyle">getContainerStyle</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_ImageBlockReveal.html#~handleImageLoad">handleImageLoad</a></li></ul></li><li><a href="module-Components_Desktop_Miscellaneous_Leaderboard.html">Components/Desktop/Miscellaneous/Leaderboard</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_Leaderboard.html#~Leaderboard">Leaderboard</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_Leaderboard.html#~renderPlayer">renderPlayer</a></li></ul></li><li><a href="module-Components_Desktop_Miscellaneous_QuestionPreview.html">Components/Desktop/Miscellaneous/QuestionPreview</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_QuestionPreview.html#~QuestionPreview">QuestionPreview</a></li></ul></li><li><a href="module-Components_Desktop_Miscellaneous_QuickPlayModal.html">Components/Desktop/Miscellaneous/QuickPlayModal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_QuickPlayModal.html#~QuickPlayModal">QuickPlayModal</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_QuickPlayModal.html#~handleStartGame">handleStartGame</a></li></ul></li><li><a href="module-Components_Desktop_Room_ConnectionInfo.html">Components/Desktop/Room/ConnectionInfo</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Room_ConnectionInfo.html#~ConnectionInfo">ConnectionInfo</a></li></ul></li><li><a href="module-Components_Desktop_Room_PlayersList.html">Components/Desktop/Room/PlayersList</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Room_PlayersList.html#~PlayersList">PlayersList</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Room_PlayersList.html#~distributePlayersInColumns">distributePlayersInColumns</a></li></ul></li><li><a href="module-Components_Desktop_Room_StartGameTooltip.html">Components/Desktop/Room/StartGameTooltip</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Room_StartGameTooltip.html#~StartGameTooltip">StartGameTooltip</a></li></ul></li><li><a href="module-Components_Desktop_Room_TeamMode.html">Components/Desktop/Room/TeamMode</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Room_TeamMode.html#~TeamContainer">TeamContainer</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Room_TeamMode.html#~TeamMode">TeamMode</a></li></ul></li><li><a href="module-Constants_QuizValidation.html">Constants/QuizValidation</a></li><li><a href="module-Pages_Desktop_Game_GamePage.html">Pages/Desktop/Game/GamePage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Game_GamePage.html#~GamePage">GamePage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Game_GamePage.html#~renderQuizType">renderQuizType</a></li></ul></li><li><a href="module-Pages_Desktop_Game_RemoteGamePage.html">Pages/Desktop/Game/RemoteGamePage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Game_RemoteGamePage.html#~RemoteGamePage">RemoteGamePage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Game_RemoteGamePage.html#~handleCountdownComplete">handleCountdownComplete</a></li></ul></li><li><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html">Pages/Desktop/HomePage/DesktopHomePage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~DesktopHomePage">DesktopHomePage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~QuizTypeButton">QuizTypeButton</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~continueUnfinishedQuiz">continueUnfinishedQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~deleteUnfinishedQuiz">deleteUnfinishedQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~fetchQuizzes">fetchQuizzes</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~fetchUnfinishedQuizzes">fetchUnfinishedQuizzes</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleCloseSnackbar">handleCloseSnackbar</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleCreateCopy">handleCreateCopy</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleDeleteQuiz">handleDeleteQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleEditPublicQuiz">handleEditPublicQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleEditQuiz">handleEditQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleQuickPlayClick">handleQuickPlayClick</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleStartQuickPlay">handleStartQuickPlay</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleToggleShare">handleToggleShare</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~loadMore">loadMore</a></li></ul></li><li><a href="module-Pages_Desktop_HomePage_QuizListItem.html">Pages/Desktop/HomePage/QuizListItem</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_QuizListItem.html#~QuizListItem">QuizListItem</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_QuizListItem.html#~handleEdit">handleEdit</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_QuizListItem.html#~handleStartQuiz">handleStartQuiz</a></li></ul></li><li><a href="module-Pages_Desktop_Room_RoomPage.html">Pages/Desktop/Room/RoomPage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~RoomPage">RoomPage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~getConnectionUrl">getConnectionUrl</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~getRemoteGameUrl">getRemoteGameUrl</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleChangeBlueTeamCaptain">handleChangeBlueTeamCaptain</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleChangeRedTeamCaptain">handleChangeRedTeamCaptain</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleCloseQuiz">handleCloseQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleCountdownComplete">handleCountdownComplete</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleModeChange">handleModeChange</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleSelectCaptain">handleSelectCaptain</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleStartGame">handleStartGame</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleStartGameOnAnotherScreen">handleStartGameOnAnotherScreen</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleSwitchTeam">handleSwitchTeam</a></li></ul></li><li><a href="module-Pages_Desktop_ScorePage_FinalScorePage.html">Pages/Desktop/ScorePage/FinalScorePage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_ScorePage_FinalScorePage.html#~FinalScorePage">FinalScorePage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_ScorePage_FinalScorePage.html#~handleCloseQuiz">handleCloseQuiz</a></li></ul></li><li><a href="module-Pages_Desktop_ScorePage_ScorePage.html">Pages/Desktop/ScorePage/ScorePage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_ScorePage_ScorePage.html#~ScorePage">ScorePage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_ScorePage_ScorePage.html#~handleCloseQuiz">handleCloseQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_ScorePage_ScorePage.html#~renderAnswers">renderAnswers</a></li></ul></li><li><a href="module-Pages_Mobile_Game_MobileGamePage.html">Pages/Mobile/Game/MobileGamePage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~MobileGamePage">MobileGamePage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleAnswer">handleAnswer</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleBlindMapAnswer">handleBlindMapAnswer</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleCaptainChoice">handleCaptainChoice</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleDrawingSubmit">handleDrawingSubmit</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleMathAnswer">handleMathAnswer</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleMoreLessVote">handleMoreLessVote</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleNumberGuess">handleNumberGuess</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleOpenAnswer">handleOpenAnswer</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleWordChainSubmit">handleWordChainSubmit</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleWordSelected">handleWordSelected</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~renderQuizType">renderQuizType</a></li></ul></li><li><a href="module-Pages_Mobile_JoinQuizRoom_MobileJoinQuizRoom.html">Pages/Mobile/JoinQuizRoom/MobileJoinQuizRoom</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_JoinQuizRoom_MobileJoinQuizRoom.html#~MobileJoinQuizRoom">MobileJoinQuizRoom</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_JoinQuizRoom_MobileJoinQuizRoom.html#~handleJoinGame">handleJoinGame</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_JoinQuizRoom_MobileJoinQuizRoom.html#~handleNameChange">handleNameChange</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_JoinQuizRoom_MobileJoinQuizRoom.html#~handleReset">handleReset</a></li></ul></li><li><a href="module-Themes.html">Themes</a></li><li><a href="module-Utils_LetterReveal.html">Utils/LetterReveal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_LetterReveal.html#~createInitialMask">createInitialMask</a></li><li data-type='method' style='display: none;'><a href="module-Utils_LetterReveal.html#~shouldRevealLetter">shouldRevealLetter</a></li></ul></li><li><a href="module-Utils_MathRenderer.html">Utils/MathRenderer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_MathRenderer.html#~renderMathEquation">renderMathEquation</a></li></ul></li><li><a href="module-Utils_ScrollbarStyle.html">Utils/ScrollbarStyle</a></li><li><a href="module-Utils_Socket.html">Utils/Socket</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_Socket.html#~getServerTime">getServerTime</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Socket.html#~getSocket">getSocket</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Socket.html#~synchronizeTime">synchronizeTime</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#MathQuiz">MathQuiz</a></li><li><a href="global.html#WordChainQuiz">WordChainQuiz</a></li><li><a href="global.html#fixAnagram">fixAnagram</a></li><li><a href="global.html#generateAnagram">generateAnagram</a></li><li><a href="global.html#isValidAnagram">isValidAnagram</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">pages/desktop/scorePage/ScorePage.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview Score Page component for displaying round results and leaderboards
 * 
 * This module provides:
 * - Display of question results with type-specific visualizations
 * - Leaderboard display showing current standings
 * - Automatic navigation to next question after countdown
 * - Special handling for final question transitions
 * - Dynamic rendering based on question type
 * 
 * @module Pages/Desktop/ScorePage/ScorePage
 */
import React, { useEffect, useState } from 'react';
import { useLocation, useNavigate } from 'react-router-dom';
import { Box, Button, Typography } from '@mui/material';
import { getSocket, getServerTime } from '../../../utils/socket';
import ABCDAnswers from '../../../components/desktop/answerTypes/ABCDAnswers';
import TrueFalseAnswers from '../../../components/desktop/answerTypes/TrueFalseAnswers';
import OpenAnswerResult from '../../../components/desktop/answerTypes/OpenAnswerResult';
import Leaderboard from '../../../components/desktop/miscellaneous/Leaderboard';
import GuessNumberResult from '../../../components/desktop/answerTypes/GuessNumberResult';
import DrawingAnswerResult from '../../../components/desktop/answerTypes/DrawingAnswerResult';
import WordChainResults from '../../../components/desktop/answerTypes/WordChainResults';
import MathQuizResults from '../../../components/desktop/answerTypes/MathQuizResults';
import BlindMapResult from '../../../components/desktop/answerTypes/BlindMapResult';

/**
 * Score Page component for displaying results between questions
 * 
 * @component
 * @returns {JSX.Element} The rendered score page component
 */
const ScorePage = () => {
  const location = useLocation();
  const navigate = useNavigate();
  const scores = location.state?.scores || {};
  const correctAnswer = location.state?.correctAnswer;
  const answerCounts = location.state?.answerCounts || [0, 0, 0, 0];
  const isLastQuestion = location.state?.isLastQuestion || false;
  const question = location.state?.question || { options: ["Option 1", "Option 2", "Option 3", "Option 4"] };
  const showQuestionPreviewAt = location.state?.showQuestionPreviewAt;
  const [countdown, setCountdown] = useState(8);
  const socket = getSocket();
  const [timeRemaining, setTimeRemaining] = useState(5);

  // Single timer effect that handles both countdown and navigation
  useEffect(() => {
    if (!isLastQuestion &amp;&amp; showQuestionPreviewAt) {
      const timer = setInterval(() => {
        const now = getServerTime();
        const remaining = Math.ceil((showQuestionPreviewAt - now) / 1000);

        if (remaining &lt;= 0) {
          clearInterval(timer);
          // Fetch and navigate immediately
          fetch(`http://${window.location.hostname}:5000/next_question`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
          })
            .then((response) => response.json())
            .then((data) => {
              if (data.question) {
                const current_time = getServerTime();
                const game_time = showQuestionPreviewAt + data.preview_time - current_time; // Time until game starts
                const question_end_time = current_time + (data.question.length * 1000) + game_time;

                navigate('/game', { 
                  state: { 
                    question: data.question,
                    showGameAt: showQuestionPreviewAt + data.preview_time,
                    question_end_time: question_end_time,
                    is_last_question: data.is_last_question,
                    activeTeam: data.active_team,
                    blind_map_is_team_play: data.active_team !== null
                  } 
                });
              }
            });
        } else {
          setTimeRemaining(remaining);
        }
      }, 100);

      return () => clearInterval(timer);
    }
  }, [navigate, isLastQuestion, showQuestionPreviewAt]);

  // Countdown effect for the last question
  useEffect(() => {
    if (isLastQuestion) {
      setCountdown(5);
      const timer = setInterval(() => {
        setCountdown(prev => {
          if (prev &lt;= 1) {
            clearInterval(timer);
            // Navigate immediately to final score page
            socket.emit('show_final_score');
            navigate('/final-score', { 
              state: { 
                scores: scores,
                correctAnswer: correctAnswer,
                question: question,
                isRemote: location.state?.isRemote
              } 
            });
            return 0;
          }
          return prev - 1;
        });
      }, 1000);
      return () => clearInterval(timer);
    }
  }, [isLastQuestion]);

  // Socket event listener for game reset
  useEffect(() => {
      const socket = getSocket();
  
      socket.on('game_reset', (data) => {
        navigate(data.was_remote ? '/remote' : '/');
      });
  
      return () => {
        socket.off('game_reset');
      };
    }, [navigate]);

  /**
   * Handles quiz closure and cleanup.
   * 
   * Resets the game state on the server and navigates back to the appropriate page.
   * 
   * @function handleCloseQuiz
   */
  const handleCloseQuiz = () => {
    fetch(`http://${window.location.hostname}:5000/reset_game`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
    })
      .then((response) => response.json())
      .then((data) => {
        navigate(data.was_remote ? '/remote' : '/');
      })
      .catch((error) => {
        console.error('Error resetting game:', error);
      });
  };

  /**
   * Renders the appropriate answer component based on question type.
   * 
   * Dynamically selects and configures the correct visualization component
   * for the current question's answer type.
   * 
   * @function renderAnswers
   * @returns {JSX.Element} The appropriate answer component for the question type
   */
  const renderAnswers = () => {
    // Simply use the question's type property directly
    const questionType = question?.type || 'ABCD'; // Default to ABCD if no type
    
    switch (questionType) {
      case 'OPEN_ANSWER':
        return &lt;OpenAnswerResult 
          question={{
            ...question,
            correctAnswer: correctAnswer
          }} 
        />;
      case 'DRAWING':
        return &lt;DrawingAnswerResult 
          question={{
            ...question,
            correctAnswer: correctAnswer,
            drawer: question.drawer || 'Unknown',
            playerAnswers: question.playerAnswers || []
          }} 
        />;
      case 'TRUE_FALSE':
        return &lt;TrueFalseAnswers 
          question={question} 
          correctAnswer={correctAnswer} 
          answerCounts={answerCounts || [0, 0]} 
        />;
      case 'GUESS_A_NUMBER':
        return &lt;GuessNumberResult
          correctAnswer={correctAnswer}
          playerGuesses={question.playerGuesses || []}
          teamMode={scores.is_team_mode}
          firstTeamAnswer={question.firstTeamAnswer}
          secondTeamVote={question.secondTeamVote}
        />;
      case 'WORD_CHAIN':
        return &lt;WordChainResults 
          wordChain={question.word_chain || []}
          eliminatedPlayers={question.eliminated_players || []}
          isTeamMode={scores.is_team_mode}
          winningTeam={question.winning_team}
          lastPlayer={question.last_player || question.current_player}
          explodedTeam={question.exploded_team}
          explodedPlayer={question.exploded_player}
        />;
      case 'MATH_QUIZ':
        return &lt;MathQuizResults 
          sequences={question.sequences || []}
          eliminatedPlayers={question.eliminated_players || []}
          isTeamMode={scores.is_team_mode}
          playerAnswers={question.player_answers || {}}
        />;
      case 'BLIND_MAP':
        return &lt;BlindMapResult 
          question={question} 
          team_guesses={location.state?.team_guesses || question?.team_guesses}
          captain_guesses={location.state?.captain_guesses || question?.captain_guesses}
          player_locations={location.state?.player_locations || question?.player_locations}
          winning_team={location.state?.winning_team || question?.winning_team}
          is_team_mode={location.state?.is_team_mode || question?.is_team_mode}
        />;
      case 'ABCD':
      default:
        return &lt;ABCDAnswers 
          question={question} 
          correctAnswer={correctAnswer} 
          answerCounts={answerCounts || [0, 0, 0, 0]} 
        />;
    }
  };

  return (
    &lt;Box sx={{ 
      display: 'flex', 
      flexDirection: 'column',
      height: '100vh',
      padding: 2,
      gap: 3
    }}>
      {/* Header with timer */}
      &lt;Box sx={{ 
        display: 'flex', 
        justifyContent: 'space-between',
        alignItems: 'center',
        position: 'relative',
      }}>
        {/* Left - Timer (only show if not last question) */}
        {!isLastQuestion &amp;&amp; (
          &lt;Typography 
            sx={{ 
              fontSize: '3rem',
              fontWeight: 'bold',
              color: '#3B82F6',
              mb: -2,
              mt: -2,
              ml: 1
            }}
          >
            {timeRemaining}
          &lt;/Typography>
        )}

        {/* Center - Title */}
        &lt;Typography variant="h4" component="h1" sx={{ 
          position: 'absolute', 
          left: '50%', 
          transform: 'translateX(-50%)',
          visibility: isLastQuestion &amp;&amp; countdown === 0 ? 'hidden' : 'visible'
        }}>
          {isLastQuestion ? '' : 'Výsledky kola'}
        &lt;/Typography>

        {/* Right - Close Quiz Button (only show if last question) */}
        { isLastQuestion &amp;&amp; countdown === 0 &amp;&amp; !location.state?.isRemote &amp;&amp; (
          &lt;Button
            variant="contained"
            onClick={handleCloseQuiz}
            sx={{ visibility: 'hidden' }}
          >
            Ukončit kvíz
          &lt;/Button>
        )}
      &lt;/Box>

      {/* Main content area - Hide everything when countdown is 0 (when it's last question) */}
      &lt;Box sx={{ 
        flex: 1, 
        display: 'flex', 
        flexDirection: 'column', 
        minHeight: 0,
        visibility: countdown === 0 ? 'hidden' : 'visible'
      }}>
        {isLastQuestion ? (
          &lt;Box sx={{
            flex: 1,
            display: 'flex',
            flexDirection: 'column',
            alignItems: 'center',
            justifyContent: 'center',
            gap: 4
          }}>
            &lt;Typography variant="h2">
              Výsledné umístění se zobrazí za
            &lt;/Typography>
            &lt;Typography 
              variant="h1" 
              sx={{
                fontSize: '10rem',
                fontWeight: 'bold',
                color: '#3B82F6'
              }}
            >
              {countdown}
            &lt;/Typography>
          &lt;/Box>
        ) : (
          &lt;Leaderboard scores={scores} />
        )}
      &lt;/Box>

      {/* Answer buttons - rendered based on question type - Hide when countdown is 0 */}
      &lt;Box sx={{ visibility: countdown === 0 ? 'hidden' : 'visible' }}>
        {renderAnswers()}
      &lt;/Box>
    &lt;/Box>
  );
};

export default ScorePage;</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
