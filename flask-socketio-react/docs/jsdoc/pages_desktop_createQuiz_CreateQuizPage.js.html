<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>pages/desktop/createQuiz/CreateQuizPage.js - Home Quiz Documentation</title>
    
    <meta name="description" content="Documentation for the Home Quiz application" />
    
        <meta name="keywords" content="react, quiz, documentation" />
        <meta name="keyword" content="react, quiz, documentation" />
    
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-App.html">App</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-App.html#~App">App</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_BlindMap_AnagramUtils.html">Components/Desktop/CreateQuiz/BlindMap/AnagramUtils</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_AnagramUtils.html#~fixAnagram">fixAnagram</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_AnagramUtils.html#~generateAnagram">generateAnagram</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_AnagramUtils.html#~isValidAnagram">isValidAnagram</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_BlindMap_BlindMapForm.html">Components/Desktop/CreateQuiz/BlindMap/BlindMapForm</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_BlindMapForm.html#~handleClueChange">handleClueChange</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_BlindMapForm.html#~handleGenerateAnagram">handleGenerateAnagram</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_BlindMapForm.html#~handleMapTypeChange">handleMapTypeChange</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_BlindMapForm.html#~handleRadiusChange">handleRadiusChange</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_BlindMapForm.html#~handleSelectLocation">handleSelectLocation</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_BlindMapForm.html#~handleSubmit">handleSubmit</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_BlindMapForm.html#~rearrangeClues">rearrangeClues</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_BlindMapForm.html#~resetForm">resetForm</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_BlindMapForm.html#~validateForm">validateForm</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_BlindMap_CluesSection.html">Components/Desktop/CreateQuiz/BlindMap/CluesSection</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_CluesSection.html#~CluesSection">CluesSection</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_BlindMap_MapSelector.html">Components/Desktop/CreateQuiz/BlindMap/MapSelector</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_MapSelector.html#~MapSelector">MapSelector</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_MapSelector.html#~closeMapModal">closeMapModal</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_MapSelector.html#~confirmLocationSelection">confirmLocationSelection</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_MapSelector.html#~getCurrentMapImage">getCurrentMapImage</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_MapSelector.html#~handleMapClick">handleMapClick</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_MapSelector.html#~handleMapLoad">handleMapLoad</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_MapSelector.html#~handleRadiusPresetChange">handleRadiusPresetChange</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_BlindMap_MapSelector.html#~openMapSelector">openMapSelector</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_DrawingForm.html">Components/Desktop/CreateQuiz/DrawingForm</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_DrawingForm.html#~handleSubmit">handleSubmit</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_DrawingForm.html#~resetForm">resetForm</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_DrawingForm.html#~validateForm">validateForm</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_AddExistingQuestionDialog.html">Components/Desktop/CreateQuiz/ExistingQuestions/AddExistingQuestionDialog</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_AddExistingQuestionDialog.html#~AddExistingQuestionDialog">AddExistingQuestionDialog</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_AddExistingQuestionDialog.html#~fetchQuestions">fetchQuestions</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_AddExistingQuestionDialog.html#~handleAddExistingQuestions">handleAddExistingQuestions</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_AddExistingQuestionDialog.html#~handleAddSelected">handleAddSelected</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_AddExistingQuestionDialog.html#~handleLoadMore">handleLoadMore</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_AddExistingQuestionDialog.html#~handleQuestionSourceChange">handleQuestionSourceChange</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_AddExistingQuestionDialog.html#~handleQuestionTypesChange">handleQuestionTypesChange</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_AddExistingQuestionDialog.html#~handleSearchChange">handleSearchChange</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_AddExistingQuestionDialog.html#~handleToggleQuestion">handleToggleQuestion</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_QuestionCard.html">Components/Desktop/CreateQuiz/ExistingQuestions/QuestionCard</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_QuestionCard.html#~QuestionCard">QuestionCard</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_QuestionCard.html#~getQuestionTypeLabel">getQuestionTypeLabel</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_QuestionCard.html#~handleExpandClick">handleExpandClick</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_ExistingQuestions_QuestionCard.html#~renderContent">renderContent</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_GuessANumberForm.html">Components/Desktop/CreateQuiz/GuessANumberForm</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_GuessANumberForm.html#~handleSubmit">handleSubmit</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_GuessANumberForm.html#~resetForm">resetForm</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_GuessANumberForm.html#~validateForm">validateForm</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_MathQuiz_MathQuizForm.html">Components/Desktop/CreateQuiz/MathQuiz/MathQuizForm</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_MathQuizForm.html#~handleAddSequence">handleAddSequence</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_MathQuizForm.html#~handleDragEnd">handleDragEnd</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_MathQuizForm.html#~handleDragStart">handleDragStart</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_MathQuizForm.html#~handleRemoveSequence">handleRemoveSequence</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_MathQuizForm.html#~handleSequenceChange">handleSequenceChange</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_MathQuizForm.html#~handleSubmit">handleSubmit</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_MathQuizForm.html#~resetForm">resetForm</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_MathQuizForm.html#~validateForm">validateForm</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_MathQuiz_SortableSequence.html">Components/Desktop/CreateQuiz/MathQuiz/SortableSequence</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_SortableSequence.html#~SortableSequence">SortableSequence</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_SortableSequence.html#~handleEquationBlur">handleEquationBlur</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_SortableSequence.html#~handleEquationChange">handleEquationChange</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_SortableSequence.html#~handleTimeChange">handleTimeChange</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_MathQuiz_SortableSequence.html#~validateEquation">validateEquation</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_OpenAnswerForm.html">Components/Desktop/CreateQuiz/OpenAnswerForm</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_OpenAnswerForm.html#~handleFileSelect">handleFileSelect</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_OpenAnswerForm.html#~handleSubmit">handleSubmit</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_OpenAnswerForm.html#~resetForm">resetForm</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_OpenAnswerForm.html#~validateForm">validateForm</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_QuestionForm.html">Components/Desktop/CreateQuiz/QuestionForm</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_QuestionForm.html#~checkQuestionWithBackend">checkQuestionWithBackend</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_QuestionForm.html#~resetForm">resetForm</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_QuestionForm.html#~validateForm">validateForm</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_QuestionPreview_QuestionPreview.html">Components/Desktop/CreateQuiz/QuestionPreview/QuestionPreview</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_QuestionPreview_QuestionPreview.html#~QuestionPreview">QuestionPreview</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_QuestionPreview_SortableQuestion.html">Components/Desktop/CreateQuiz/QuestionPreview/SortableQuestion</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_QuestionPreview_SortableQuestion.html#~SortableQuestion">SortableQuestion</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_QuestionPreview_SortableQuestion.html#~renderQuestionContent">renderQuestionContent</a></li></ul></li><li><a href="module-Components_Desktop_CreateQuiz_WordChainForm.html">Components/Desktop/CreateQuiz/WordChainForm</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_WordChainForm.html#~handleSubmit">handleSubmit</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_WordChainForm.html#~resetForm">resetForm</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_CreateQuiz_WordChainForm.html#~validateForm">validateForm</a></li></ul></li><li><a href="module-Components_Desktop_Miscellaneous_GameCountdown.html">Components/Desktop/Miscellaneous/GameCountdown</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_GameCountdown.html#~GameCountdown">GameCountdown</a></li></ul></li><li><a href="module-Components_Desktop_Miscellaneous_ImageBlockReveal.html">Components/Desktop/Miscellaneous/ImageBlockReveal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_ImageBlockReveal.html#~ImageBlockReveal">ImageBlockReveal</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_ImageBlockReveal.html#~getContainerStyle">getContainerStyle</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_ImageBlockReveal.html#~handleImageLoad">handleImageLoad</a></li></ul></li><li><a href="module-Components_Desktop_Miscellaneous_Leaderboard.html">Components/Desktop/Miscellaneous/Leaderboard</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_Leaderboard.html#~Leaderboard">Leaderboard</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_Leaderboard.html#~renderPlayer">renderPlayer</a></li></ul></li><li><a href="module-Components_Desktop_Miscellaneous_QuestionPreview.html">Components/Desktop/Miscellaneous/QuestionPreview</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_QuestionPreview.html#~QuestionPreview">QuestionPreview</a></li></ul></li><li><a href="module-Components_Desktop_Miscellaneous_QuickPlayModal.html">Components/Desktop/Miscellaneous/QuickPlayModal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_QuickPlayModal.html#~QuickPlayModal">QuickPlayModal</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Miscellaneous_QuickPlayModal.html#~handleStartGame">handleStartGame</a></li></ul></li><li><a href="module-Components_Desktop_Room_ConnectionInfo.html">Components/Desktop/Room/ConnectionInfo</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Room_ConnectionInfo.html#~ConnectionInfo">ConnectionInfo</a></li></ul></li><li><a href="module-Components_Desktop_Room_PlayersList.html">Components/Desktop/Room/PlayersList</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Room_PlayersList.html#~PlayersList">PlayersList</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Room_PlayersList.html#~distributePlayersInColumns">distributePlayersInColumns</a></li></ul></li><li><a href="module-Components_Desktop_Room_StartGameTooltip.html">Components/Desktop/Room/StartGameTooltip</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Room_StartGameTooltip.html#~StartGameTooltip">StartGameTooltip</a></li></ul></li><li><a href="module-Components_Desktop_Room_TeamMode.html">Components/Desktop/Room/TeamMode</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Room_TeamMode.html#~TeamContainer">TeamContainer</a></li><li data-type='method' style='display: none;'><a href="module-Components_Desktop_Room_TeamMode.html#~TeamMode">TeamMode</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_BlindMapPhaseTransitionMobile.html">Components/Mobile/ScreensBetweenRounds/BlindMapPhaseTransitionMobile</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_BlindMapPhaseTransitionMobile.html#~BlindMapPhaseTransitionMobile">BlindMapPhaseTransitionMobile</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_CorrectAnswer.html">Components/Mobile/ScreensBetweenRounds/CorrectAnswer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_CorrectAnswer.html#~CorrectAnswer">CorrectAnswer</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_DrawerResultScreen.html">Components/Mobile/ScreensBetweenRounds/DrawerResultScreen</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_DrawerResultScreen.html#~DrawerResultScreen">DrawerResultScreen</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_GuessANumberPlacement.html">Components/Mobile/ScreensBetweenRounds/GuessANumberPlacement</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_GuessANumberPlacement.html#~GuessANumberPlacement">GuessANumberPlacement</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_IncorrectAnswer.html">Components/Mobile/ScreensBetweenRounds/IncorrectAnswer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_IncorrectAnswer.html#~IncorrectAnswer">IncorrectAnswer</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_Loading.html">Components/Mobile/ScreensBetweenRounds/Loading</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_Loading.html#~Loading">Loading</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_MathQuizCorrectAnswer.html">Components/Mobile/ScreensBetweenRounds/MathQuizCorrectAnswer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_MathQuizCorrectAnswer.html#~MathQuizCorrectAnswer">MathQuizCorrectAnswer</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_MathQuizEliminatedAnswer.html">Components/Mobile/ScreensBetweenRounds/MathQuizEliminatedAnswer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_MathQuizEliminatedAnswer.html#~MathQuizEliminatedAnswer">MathQuizEliminatedAnswer</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_MobileFinalScore.html">Components/Mobile/ScreensBetweenRounds/MobileFinalScore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_MobileFinalScore.html#~MobileFinalScore">MobileFinalScore</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_PhaseTransitionMobile.html">Components/Mobile/ScreensBetweenRounds/PhaseTransitionMobile</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_PhaseTransitionMobile.html#~PhaseTransitionMobile">PhaseTransitionMobile</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_TeamWaitingScreen.html">Components/Mobile/ScreensBetweenRounds/TeamWaitingScreen</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_TeamWaitingScreen.html#~TeamWaitingScreen">TeamWaitingScreen</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_TooLateAnswer.html">Components/Mobile/ScreensBetweenRounds/TooLateAnswer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_TooLateAnswer.html#~TooLateAnswer">TooLateAnswer</a></li></ul></li><li><a href="module-Components_Mobile_ScreensBetweenRounds_WaitingRoom.html">Components/Mobile/ScreensBetweenRounds/WaitingRoom</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_WaitingRoom.html#~WaitingRoom">WaitingRoom</a></li><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_WaitingRoom.html#~handleBeforeUnload">handleBeforeUnload</a></li><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_WaitingRoom.html#~handleCloseSnackbar">handleCloseSnackbar</a></li><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_WaitingRoom.html#~handleGameStart">handleGameStart</a></li><li data-type='method' style='display: none;'><a href="module-Components_Mobile_ScreensBetweenRounds_WaitingRoom.html#~handleNameChange">handleNameChange</a></li></ul></li><li><a href="module-Constants_QuizValidation.html">Constants/QuizValidation</a></li><li><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html">Pages/Desktop/CreateQuiz/CreateQuizPage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~CreateQuizPage">CreateQuizPage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~cleanupAutosave">cleanupAutosave</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~deleteAutosave">deleteAutosave</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~handleAddExistingQuestions">handleAddExistingQuestions</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~handleAddExistingQuestions">handleAddExistingQuestions</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~handleAddQuestion">handleAddQuestion</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~handleBackToHome">handleBackToHome</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~handleCloseSnackbar">handleCloseSnackbar</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~handleCreateQuiz">handleCreateQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~handleDeleteQuestion">handleDeleteQuestion</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~handleDragEnd">handleDragEnd</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~handleDragStart">handleDragStart</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~handleEditQuestion">handleEditQuestion</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~handleMoveQuestion">handleMoveQuestion</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~hasDrawingQuestion">hasDrawingQuestion</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~hasWordChainQuestion">hasWordChainQuestion</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~performAutosave">performAutosave</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~resetAutosaveId">resetAutosaveId</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_CreateQuiz_CreateQuizPage.html#~toggleQuestionType">toggleQuestionType</a></li></ul></li><li><a href="module-Pages_Desktop_Game_GamePage.html">Pages/Desktop/Game/GamePage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Game_GamePage.html#~GamePage">GamePage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Game_GamePage.html#~renderQuizType">renderQuizType</a></li></ul></li><li><a href="module-Pages_Desktop_Game_RemoteGamePage.html">Pages/Desktop/Game/RemoteGamePage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Game_RemoteGamePage.html#~RemoteGamePage">RemoteGamePage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Game_RemoteGamePage.html#~handleCountdownComplete">handleCountdownComplete</a></li></ul></li><li><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html">Pages/Desktop/HomePage/DesktopHomePage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~DesktopHomePage">DesktopHomePage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~QuizTypeButton">QuizTypeButton</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~continueUnfinishedQuiz">continueUnfinishedQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~deleteUnfinishedQuiz">deleteUnfinishedQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~fetchQuizzes">fetchQuizzes</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~fetchUnfinishedQuizzes">fetchUnfinishedQuizzes</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleCloseSnackbar">handleCloseSnackbar</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleCreateCopy">handleCreateCopy</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleDeleteQuiz">handleDeleteQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleEditPublicQuiz">handleEditPublicQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleEditQuiz">handleEditQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleQuickPlayClick">handleQuickPlayClick</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleStartQuickPlay">handleStartQuickPlay</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~handleToggleShare">handleToggleShare</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_DesktopHomePage.html#~loadMore">loadMore</a></li></ul></li><li><a href="module-Pages_Desktop_HomePage_QuizListItem.html">Pages/Desktop/HomePage/QuizListItem</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_QuizListItem.html#~QuizListItem">QuizListItem</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_QuizListItem.html#~handleEdit">handleEdit</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_HomePage_QuizListItem.html#~handleStartQuiz">handleStartQuiz</a></li></ul></li><li><a href="module-Pages_Desktop_Room_RoomPage.html">Pages/Desktop/Room/RoomPage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~RoomPage">RoomPage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~getConnectionUrl">getConnectionUrl</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~getRemoteGameUrl">getRemoteGameUrl</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleChangeBlueTeamCaptain">handleChangeBlueTeamCaptain</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleChangeRedTeamCaptain">handleChangeRedTeamCaptain</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleCloseQuiz">handleCloseQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleCountdownComplete">handleCountdownComplete</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleModeChange">handleModeChange</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleSelectCaptain">handleSelectCaptain</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleStartGame">handleStartGame</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleStartGameOnAnotherScreen">handleStartGameOnAnotherScreen</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_Room_RoomPage.html#~handleSwitchTeam">handleSwitchTeam</a></li></ul></li><li><a href="module-Pages_Desktop_ScorePage_FinalScorePage.html">Pages/Desktop/ScorePage/FinalScorePage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_ScorePage_FinalScorePage.html#~FinalScorePage">FinalScorePage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_ScorePage_FinalScorePage.html#~handleCloseQuiz">handleCloseQuiz</a></li></ul></li><li><a href="module-Pages_Desktop_ScorePage_ScorePage.html">Pages/Desktop/ScorePage/ScorePage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_ScorePage_ScorePage.html#~ScorePage">ScorePage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_ScorePage_ScorePage.html#~handleCloseQuiz">handleCloseQuiz</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Desktop_ScorePage_ScorePage.html#~renderAnswers">renderAnswers</a></li></ul></li><li><a href="module-Pages_Mobile_Game_MobileGamePage.html">Pages/Mobile/Game/MobileGamePage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~MobileGamePage">MobileGamePage</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleAnswer">handleAnswer</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleBlindMapAnswer">handleBlindMapAnswer</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleCaptainChoice">handleCaptainChoice</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleDrawingSubmit">handleDrawingSubmit</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleMathAnswer">handleMathAnswer</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleMoreLessVote">handleMoreLessVote</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleNumberGuess">handleNumberGuess</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleOpenAnswer">handleOpenAnswer</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleWordChainSubmit">handleWordChainSubmit</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~handleWordSelected">handleWordSelected</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_Game_MobileGamePage.html#~renderQuizType">renderQuizType</a></li></ul></li><li><a href="module-Pages_Mobile_JoinQuizRoom_MobileJoinQuizRoom.html">Pages/Mobile/JoinQuizRoom/MobileJoinQuizRoom</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_JoinQuizRoom_MobileJoinQuizRoom.html#~MobileJoinQuizRoom">MobileJoinQuizRoom</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_JoinQuizRoom_MobileJoinQuizRoom.html#~handleJoinGame">handleJoinGame</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_JoinQuizRoom_MobileJoinQuizRoom.html#~handleNameChange">handleNameChange</a></li><li data-type='method' style='display: none;'><a href="module-Pages_Mobile_JoinQuizRoom_MobileJoinQuizRoom.html#~handleReset">handleReset</a></li></ul></li><li><a href="module-Themes.html">Themes</a></li><li><a href="module-Utils_LetterReveal.html">Utils/LetterReveal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_LetterReveal.html#~createInitialMask">createInitialMask</a></li><li data-type='method' style='display: none;'><a href="module-Utils_LetterReveal.html#~shouldRevealLetter">shouldRevealLetter</a></li></ul></li><li><a href="module-Utils_MathRenderer.html">Utils/MathRenderer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_MathRenderer.html#~renderMathEquation">renderMathEquation</a></li></ul></li><li><a href="module-Utils_ScrollbarStyle.html">Utils/ScrollbarStyle</a></li><li><a href="module-Utils_Socket.html">Utils/Socket</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_Socket.html#~getServerTime">getServerTime</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Socket.html#~getSocket">getSocket</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Socket.html#~synchronizeTime">synchronizeTime</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#MathQuiz">MathQuiz</a></li><li><a href="global.html#WordChainQuiz">WordChainQuiz</a></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">pages/desktop/createQuiz/CreateQuizPage.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview Create Quiz Page component for quiz creation and editing
 * 
 * This module provides:
 * - Quiz creation with multiple question types
 * - Question editing and reordering functionality
 * - Media attachment support for open answer question types
 * - Autosave functionality for work-in-progress
 * - Support for importing questions from existing quizzes
 * - Drag-and-drop question reordering
 * 
 * @module Pages/Desktop/CreateQuiz/CreateQuizPage
 */
import React, { useState, useEffect, useRef, useCallback } from 'react';
import { useNavigate, useLocation } from 'react-router-dom';
import { Box, TextField, Select, MenuItem, Typography, Button, Container, Snackbar, Alert } from '@mui/material';
import QuestionForm from './components/QuestionForm';
import QuestionPreview from './components/questionPreview/QuestionPreview';
import AddExistingQuestionDialog from './components/existingQuestions/AddExistingQuestionDialog';
import OpenAnswerForm from './components/OpenAnswerForm';
import GuessANumberForm from './components/GuessANumberForm';
import MathQuizForm from './components/mathQuiz/MathQuizForm';
import WordChainForm from './components/WordChainForm';
import DrawingForm from './components/DrawingForm';
import BlindMapForm from './components/blindMap/BlindMapForm';
import {
  DndContext,
  closestCenter,
  KeyboardSensor,
  PointerSensor,
  useSensor,
  useSensors,
} from '@dnd-kit/core';
import { arrayMove } from '@dnd-kit/sortable';
import { QUIZ_VALIDATION, QUIZ_TYPES, QUESTION_TYPES } from '../../../constants/quizValidation';
import { scrollbarStyle } from '../../../utils/scrollbarStyle';

/**
 * Create Quiz Page component for quiz creation and management
 * 
 * Provides a comprehensive UI for:
 * - Creating quizzes with various question types
 * - Editing existing quizzes
 * - Managing quiz questions (add, edit, delete, reorder)
 * - Autosaving work in progress
 * - Media attachments and specialized question forms
 * 
 * @component
 * @returns {JSX.Element} The rendered create quiz page component
 */
const CreateQuizPage = () => {
  const navigate = useNavigate();
  const location = useLocation();
  const [isEditing, setIsEditing] = useState(location.state?.isEditing || false);
  const [quizId, setQuizId] = useState(location.state?.quizId);
  const autosaveIdentifier = location.state?.autosaveIdentifier;
  const [quizName, setQuizName] = useState('');
  const [questions, setQuestions] = useState([]);
  const [selectedQuizType, setSelectedQuizType] = useState(QUIZ_TYPES.ABCD);
  const [isAbcd, setIsAbcd] = useState(true);
  const formRef = React.useRef(null);
  const [editingQuestion, setEditingQuestion] = useState(null);
  const [quizNameError, setQuizNameError] = useState(false);
  const [quizNameHelperText, setQuizNameHelperText] = useState('');
  const [existingQuestionsDialogOpen, setExistingQuestionsDialogOpen] = useState(false);
  const [deletedQuestionIds, setDeletedQuestionIds] = useState(new Set());
  const [loading, setLoading] = useState(false);
  const [snackbar, setSnackbar] = useState({
    open: false,
    message: '',
    severity: 'info'
  });
  const [lastAutosaved, setLastAutosaved] = useState(null);
  const autosaveIntervalRef = useRef(null);
  const [autosaveId, setAutosaveId] = useState(null);
  const [dataLoaded, setDataLoaded] = useState(false);
  const [isUploading, setIsUploading] = useState(false);

  const sensors = useSensors(
    useSensor(PointerSensor),
    useSensor(KeyboardSensor)
  );

  /**
   * Performs autosave of quiz in progress
   * 
   * Saves current quiz state to server for later continuation,
   * but skips when in editing mode or when no questions exist.
   * 
   * @function performAutosave
   */
  const performAutosave = useCallback(() => {
    // Skip autosaving entirely when editing
    if (isEditing || questions.length === 0) return;
    
    const quizData = {
      name: quizName,
      questions: questions,
      quiz_type: selectedQuizType
    };
    
    const requestData = {
      quiz_data: quizData,
      is_editing: false,
      quiz_id: quizId,
      autosave_id: autosaveId
    };
    
    fetch('/unfinished_quizzes', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(requestData),
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        setLastAutosaved(new Date());
        
        if (data.autosave_id) {
          setAutosaveId(data.autosave_id);
        }
      }
    })
    .catch(error => {
      console.error('Error autosaving quiz:', error);
    });
  }, [quizName, questions, selectedQuizType, isEditing, quizId, autosaveId]);

  // Set up autosave interval
  useEffect(() => {
    if (autosaveIntervalRef.current) {
      clearInterval(autosaveIntervalRef.current);
    }
    
    autosaveIntervalRef.current = setInterval(performAutosave, 30000);
    
    return () => {
      if (autosaveIntervalRef.current) {
        clearInterval(autosaveIntervalRef.current);
      }
    };
  }, [performAutosave]);

  // Trigger autosave when questions change
  useEffect(() => {
    if (questions.length > 0) {
      performAutosave();
    }
  }, [questions.length, performAutosave]);

  // Load autosaved quiz if identifier is provided
  useEffect(() => {
    if (autosaveIdentifier) {
      setAutosaveId(autosaveIdentifier);
      setDataLoaded(true);
      
      fetch(`/unfinished_quizzes/${autosaveIdentifier}`)
        .then(response => response.json())
        .then(data => {
          setQuizName(data.name);
          setSelectedQuizType(data.quiz_type || QUIZ_TYPES.ABCD);
          setIsAbcd(data.quiz_type !== QUIZ_TYPES.OPEN_ANSWER);
          
          // Check if any questions had missing media files
          const hasMissingMedia = data.questions.some(q => q.mediaFileNotFound);
          if (hasMissingMedia) {
            setSnackbar({
              open: true,
              message: "Některé otázky obsahovaly odkazy na soubory, které již neexistují. Tyto odkazy byly odstraněny.",
              severity: 'warning'
            });
          }
          
          setQuestions(data.questions || []);
          
          if (data.is_editing &amp;&amp; data.original_quiz_id) {
            setIsEditing(true);
            setQuizId(data.original_quiz_id);
          }
        })
        .catch(error => {
          console.error('Error loading unfinished quiz:', error);
          setDataLoaded(false);
        });
    }
  }, [autosaveIdentifier]);

  // Load original quiz if editing
  useEffect(() => {
    if (isEditing &amp;&amp; quizId) {
      if (dataLoaded) {
        return;
      }
      
      fetch(`/quiz/${quizId}`)
        .then(response => response.json())
        .then(quiz => {
          setQuizName(quiz.name);
          
          if (quiz.type === QUIZ_TYPES.COMBINED_QUIZ) {
            // Default to ABCD for combined quizzes
            setSelectedQuizType(QUIZ_TYPES.ABCD);
          } else {
            setSelectedQuizType(quiz.type);
          }
          
          // Transform the questions data to match the expected format
          const transformedQuestions = quiz.questions.map(q => {
            const baseQuestion = {
              id: q._id,
              _id: q._id,
              question: q.question || '',
              type: q.type,
              length: q.length,
              category: q.category || '',
              copy_of: q.copy_of,
              modified: false
            };
            
            // Handle different question types
            if (q.type === QUESTION_TYPES.OPEN_ANSWER) {
              return {
                ...baseQuestion,
                answer: q.open_answer || '',
                mediaType: q.media_type || null,
                mediaUrl: q.media_url || null,
                showImageGradually: q.show_image_gradually || false,
                fileName: q.media_url ? q.media_url.split('/').pop() : ''
              };
            } else if (q.type === QUESTION_TYPES.GUESS_A_NUMBER) {
              return {
                ...baseQuestion,
                answer: q.number_answer || 0
              };
            } else if (q.type === QUESTION_TYPES.MATH_QUIZ) {
              return {
                ...baseQuestion,
                sequences: q.sequences?.map(seq => ({
                  id: Date.now() + Math.random(),
                  equation: seq.equation || '',
                  answer: seq.answer !== undefined &amp;&amp; seq.answer !== null ? seq.answer : '',
                  length: seq.length || QUIZ_VALIDATION.MATH_SEQUENCES_TIME_LIMIT.DEFAULT
                })) || []
              };
            } else if (q.type === QUESTION_TYPES.WORD_CHAIN) {
              return {
                ...baseQuestion,
                length: q.length || QUIZ_VALIDATION.WORD_CHAIN.DEFAULT_TIME,
                rounds: q.rounds || QUIZ_VALIDATION.WORD_CHAIN.DEFAULT_ROUNDS
              };
            } else if (q.type === QUESTION_TYPES.DRAWING) {
              return {
                ...baseQuestion,
                length: q.length || QUIZ_VALIDATION.DRAWING.DEFAULT_TIME,
                rounds: q.rounds || QUIZ_VALIDATION.DRAWING.DEFAULT_ROUNDS
              };
            } else if (q.type === QUESTION_TYPES.BLIND_MAP) {
              const nonEmptyClues = [q.clue1, q.clue2, q.clue3]
                .filter(clue => clue &amp;&amp; clue.trim() !== '')
                .concat(['', '', '']);
              
              return {
                ...baseQuestion,
                cityName: q.city_name || '',
                anagram: q.anagram || '',
                locationX: q.location_x || 0,
                locationY: q.location_y || 0,
                mapType: q.map_type || 'cz',
                radiusPreset: q.radius_preset || 'HARD',
                clue1: nonEmptyClues[0] || '',
                clue2: nonEmptyClues[1] || '',
                clue3: nonEmptyClues[2] || ''
              };
            } else if (q.type === QUESTION_TYPES.ABCD || q.type === QUESTION_TYPES.TRUE_FALSE) {
              return {
                ...baseQuestion,
                answers: q.options || q.answers || [],
                correctAnswer: q.answer
              };
            }
            
            return baseQuestion; // Fallback case
          });
          
          setQuestions(transformedQuestions);
          setDataLoaded(true); // Mark data as loaded after successful fetch
        })
        .catch(error => {
          console.error('Error fetching quiz:', error);
          navigate('/');
        });
    }
  }, [isEditing, quizId, navigate, dataLoaded]);

  /**
   * Cleans up autosave data after quiz is successfully saved
   * 
   * @function cleanupAutosave
   */
  const cleanupAutosave = useCallback(() => {
    if (autosaveId) {
      fetch(`/unfinished_quizzes/${autosaveId}?keep_files=true`, {
        method: 'DELETE'
      }).catch(error => {
        console.error('Error cleaning up autosave:', error);
      });
    }
  }, [autosaveId]);

  /**
   * Deletes autosave data for empty or completed quizzes
   * 
   * @function deleteAutosave
   */
  const deleteAutosave = useCallback(() => {
    if (autosaveId) {
      fetch(`/unfinished_quizzes/${autosaveId}`, {
        method: 'DELETE'
      }).catch(error => {
        console.error('Error deleting autosave:', error);
      });
      setAutosaveId(null); // Reset autosave ID after deleting
      setLastAutosaved(null); // Reset last autosaved timestamp
    }
  }, [autosaveId]);

  /**
   * Adds a new question or updates an existing one
   * 
   * Handles media uploads, question creation for all supported types,
   * and updates the questions array accordingly.
   * 
   * @async
   * @function handleAddQuestion
   * @param {Object} question - Question data from the form
   */
  const handleAddQuestion = async (question) => {
    // Explicitly check and delete old media URL if present and a new file is being uploaded
    if (question.oldMediaUrl &amp;&amp; question.mediaFile) {
      try {
        const deleteResponse = await fetch('/delete_media', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ url: question.oldMediaUrl })
        });
        
        if (!deleteResponse.ok) {
          console.error('Failed to delete old media file');
        } 
      } catch (error) {
        console.error('Error deleting old media:', error);
      }
    }

    // If there's a media file, upload it first
    if (question.mediaFile) {
      setIsUploading(true);
      
      try {
        const uploadFormData = new FormData();
        uploadFormData.append('file', question.mediaFile);
        
        const response = await fetch('/upload_media', {
          method: 'POST',
          body: uploadFormData
        });
        
        if (!response.ok) throw new Error('Upload failed');
        const data = await response.json();
        
        // Update question with the uploaded file URL
        question.mediaUrl = data.url;
      } catch (error) {
        console.error('Error uploading file:', error);
        setSnackbar({
          open: true,
          message: `Chyba při nahrávání souboru: ${error.message}`,
          severity: 'error'
        });
        setIsUploading(false);
        return; // Don't proceed with adding the question if upload fails
      }
      
      setIsUploading(false);
    }
    
    // Now continue with the logic to add the question for each quiz type
    if (selectedQuizType === QUIZ_TYPES.OPEN_ANSWER) {
      const newQuestion = {
        ...question,
        id: editingQuestion ? editingQuestion.id : Date.now(),
        _id: editingQuestion ? editingQuestion._id : undefined,
        type: QUIZ_TYPES.OPEN_ANSWER,
        modified: editingQuestion ? true : false,
        copy_of: editingQuestion &amp;&amp; editingQuestion.modified ? null : editingQuestion?.copy_of || null,
        fileName: question.fileName,
        answer: question.answer,
        mediaType: question.mediaType,
        mediaUrl: question.mediaUrl,
        showImageGradually: question.showImageGradually
      };

      // Remove the mediaFile property which is not needed anymore
      delete newQuestion.mediaFile;

      if (editingQuestion) {
        setQuestions(questions.map(q => q.id === editingQuestion.id ? newQuestion : q));
      } else {
        setQuestions([...questions, newQuestion]);
      }
      
      setEditingQuestion(null);
      if (formRef.current) {
        formRef.current.resetForm();
      }
    } else if (selectedQuizType === QUIZ_TYPES.GUESS_A_NUMBER) {
      const newQuestion = {
        ...question,
        id: editingQuestion ? editingQuestion.id : Date.now(),
        _id: editingQuestion ? editingQuestion._id : undefined,
        type: QUIZ_TYPES.GUESS_A_NUMBER,
        modified: editingQuestion ? true : false,
        copy_of: editingQuestion &amp;&amp; editingQuestion.modified ? null : editingQuestion?.copy_of || null,
      };

      if (editingQuestion) {
        setQuestions(questions.map(q => q.id === editingQuestion.id ? newQuestion : q));
      } else {
        setQuestions([...questions, newQuestion]);
      }
      
      setEditingQuestion(null);
      if (formRef.current) {
        formRef.current.resetForm();
      }
    } else if (selectedQuizType === QUIZ_TYPES.MATH_QUIZ) {
      const newQuestion = {
        ...question,
        id: editingQuestion ? editingQuestion.id : Date.now(),
        _id: editingQuestion ? editingQuestion._id : undefined,
        type: QUIZ_TYPES.MATH_QUIZ,
        modified: editingQuestion ? true : false,
        copy_of: editingQuestion &amp;&amp; editingQuestion.modified ? null : editingQuestion?.copy_of || null,
      };

      if (editingQuestion) {
        setQuestions(questions.map(q => q.id === editingQuestion.id ? newQuestion : q));
      } else {
        setQuestions([...questions, newQuestion]);
      }
      
      setEditingQuestion(null);
      if (formRef.current) {
        formRef.current.resetForm();
      }
    } else if (selectedQuizType === QUIZ_TYPES.WORD_CHAIN) {
      const newQuestion = {
        ...question,
        id: editingQuestion ? editingQuestion.id : Date.now(),
        _id: editingQuestion ? editingQuestion._id : undefined,
        type: QUIZ_TYPES.WORD_CHAIN,
        length: question.length, 
        modified: editingQuestion ? true : false,
        copy_of: editingQuestion &amp;&amp; editingQuestion.modified ? null : editingQuestion?.copy_of || null,
      };

      if (editingQuestion) {
        setQuestions(questions.map(q => q.id === editingQuestion.id ? newQuestion : q));
      } else {
        setQuestions([...questions, newQuestion]);
      }
      
      setEditingQuestion(null);
      if (formRef.current) {
        formRef.current.resetForm();
      }
    } else if (selectedQuizType === QUIZ_TYPES.DRAWING) {
      const newQuestion = {
        ...question,
        id: editingQuestion ? editingQuestion.id : Date.now(),
        _id: editingQuestion ? editingQuestion._id : undefined,
        type: QUIZ_TYPES.DRAWING,
        length: question.length, 
        rounds: question.rounds,
        modified: editingQuestion ? true : false,
        copy_of: editingQuestion &amp;&amp; editingQuestion.modified ? null : editingQuestion?.copy_of || null,
      };

      if (editingQuestion) {
        setQuestions(questions.map(q => q.id === editingQuestion.id ? newQuestion : q));
      } else {
        setQuestions([...questions, newQuestion]);
      }
      
      setEditingQuestion(null);
      if (formRef.current) {
        formRef.current.resetForm();
      }
    } else if (selectedQuizType === QUIZ_TYPES.BLIND_MAP) {
      const newQuestion = {
        ...question,
        id: editingQuestion ? editingQuestion.id : Date.now(),
        _id: editingQuestion ? editingQuestion._id : undefined,
        type: QUIZ_TYPES.BLIND_MAP,
        modified: editingQuestion ? true : false,
        copy_of: editingQuestion &amp;&amp; editingQuestion.modified ? null : editingQuestion?.copy_of || null,
      };

      if (editingQuestion) {
        setQuestions(questions.map(q => q.id === editingQuestion.id ? newQuestion : q));
      } else {
        setQuestions([...questions, newQuestion]);
      }
      
      setEditingQuestion(null);
      if (formRef.current) {
        formRef.current.resetForm();
      }
    } else {
      if (!question.type) {
        question.type = isAbcd ? QUESTION_TYPES.ABCD : QUESTION_TYPES.TRUE_FALSE;
      }
      
      if (editingQuestion) {
        setQuestions(questions.map(q => {
          if (q.id === editingQuestion.id) {
            return { 
              ...question, 
              id: editingQuestion.id,
              _id: editingQuestion._id,
              modified: true,
              copy_of: editingQuestion.modified ? null : editingQuestion.copy_of || null
            };
          }
          return q;
        }));
        setEditingQuestion(null);
        if (formRef.current) {
          formRef.current.resetForm();
        }
      } else {
        const newQuestion = { 
          ...question, 
          id: Date.now(),
          copy_of: null,
          modified: false
        };
        setQuestions([...questions, newQuestion]);
      }
    }
  };

  /**
   * Deletes a question from the quiz
   * 
   * Removes the question from the array, cleans up associated media,
   * and tracks deleted question IDs for server-side deletion.
   * 
   * @async
   * @function handleDeleteQuestion
   * @param {number|string} id - ID of the question to delete
   */
  const handleDeleteQuestion = async (id) => {
    const questionToDelete = questions.find(q => q.id === id);
    
    // If question has media URL, delete it from Cloudinary first
    if (!isEditing &amp;&amp; questionToDelete &amp;&amp; questionToDelete.mediaUrl) {
      try {
        const response = await fetch('/delete_media', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ url: questionToDelete.mediaUrl })
        });
        
        if (!response.ok) {
          console.error('Failed to delete media file');
        }
      } catch (error) {
        console.error('Error deleting media file:', error);
      }
    }

    // Check if this is the last question
    const isLastQuestion = questions.length === 1;

    // Update questions state
    setQuestions(questions.filter(q => q.id !== id));
    
    // If this was the last question, delete the autosave
    if (isLastQuestion &amp;&amp; autosaveId &amp;&amp; !isEditing) {
      deleteAutosave();
    }
    
    // Handle deleted question IDs for backend
    if (questionToDelete &amp;&amp; questionToDelete._id) {
      setDeletedQuestionIds(prev => {
        const newSet = new Set(prev);
        newSet.add(questionToDelete._id);
        return newSet;
      });
    }
  };

  /**
   * Loads a question into the editing form
   * 
   * Sets the appropriate question type and populates form fields
   * with the selected question's data.
   * 
   * @function handleEditQuestion
   * @param {Object} questionToEdit - Question to be edited
   */
  const handleEditQuestion = (questionToEdit) => {
    if (questionToEdit.type === QUIZ_TYPES.OPEN_ANSWER) {
      setEditingQuestion(questionToEdit);
      setSelectedQuizType(QUIZ_TYPES.OPEN_ANSWER);
    } else if (questionToEdit.type === QUIZ_TYPES.GUESS_A_NUMBER) {
      setEditingQuestion(questionToEdit);
      setSelectedQuizType(QUIZ_TYPES.GUESS_A_NUMBER);
    } else if (questionToEdit.type === QUIZ_TYPES.MATH_QUIZ) {
      setEditingQuestion(questionToEdit);
      setSelectedQuizType(QUIZ_TYPES.MATH_QUIZ);
    } else if (questionToEdit.type === QUIZ_TYPES.WORD_CHAIN) {
      setEditingQuestion(questionToEdit);
      setSelectedQuizType(QUIZ_TYPES.WORD_CHAIN);
    } else if (questionToEdit.type === QUIZ_TYPES.DRAWING) {
      setEditingQuestion(questionToEdit);
      setSelectedQuizType(QUIZ_TYPES.DRAWING);
    } else if (questionToEdit.type === QUIZ_TYPES.BLIND_MAP) {
      setEditingQuestion(questionToEdit);
      setSelectedQuizType(QUIZ_TYPES.BLIND_MAP);
    } else {
      setEditingQuestion(questionToEdit);
      setIsAbcd(questionToEdit.type === QUESTION_TYPES.ABCD);
      setSelectedQuizType(QUIZ_TYPES.ABCD);
    }
  };

  /**
   * Moves a question to a new position in the list
   * 
   * @function handleMoveQuestion
   * @param {number} fromIndex - Starting position
   * @param {number} toIndex - Target position
   */
  const handleMoveQuestion = (fromIndex, toIndex) => {
    const updatedQuestions = [...questions];
    const [removed] = updatedQuestions.splice(fromIndex, 1);
    updatedQuestions.splice(toIndex, 0, removed);
    setQuestions(updatedQuestions);
  };

  /**
   * Handles drag-and-drop action completion
   * 
   * Reorders questions based on drag result when items are dropped.
   * 
   * @function handleDragEnd
   * @param {Object} event - Drag event data
   */
  const handleDragEnd = (event) => {
    const { active, over } = event;
    
    if (active &amp;&amp; over &amp;&amp; active.id !== over.id) {
      setQuestions((items) => {
        const oldIndex = items.findIndex(item => item.id === active.id);
        const newIndex = items.findIndex(item => item.id === over.id);
        
        if (oldIndex === -1 || newIndex === -1) return items;
        return arrayMove(items, oldIndex, newIndex);
      });
    }
  };

  /**
   * Handles drag start event
   * 
   * Sets up the drag-and-drop context for reordering questions.
   * 
   * @function handleDragStart
   * @param {Object} event - Drag event data
   * @param {Object} event.active - Active drag item
   */
  const handleDragStart = (event) => {
    if (!event.active) return;
  };

  /**
   * Toggles the question type between ABCD and True/False
   * 
   * @function toggleQuestionType
   */
  const toggleQuestionType = () => {
    setIsAbcd(!isAbcd);
  };

  /**
   * Handles the addition of question to the quiz
   * 
   * @function handleAddExistingQuestions
   */
  const handleAddQuestionClick = () => {
    if (formRef.current) {
      formRef.current.submitForm();
    }
  };

  /**
   * Update the back-to-home handler to skip autosave when editing
   * 
   * @function handleBackToHome
   */
  const handleBackToHome = () => {
    // Existing logic
    if (questions.length > 0 &amp;&amp; !isEditing) {
      if (window.confirm('Chcete odejít? Vaše rozdělaná práce bude uložena pro pozdější dokončení.')) {
        performAutosave();
        navigate('/');
      }
    } else {
      navigate('/');
    }
  };

  /**
   * Reset everything, including autosaveId when creating a new quiz or quiz is saved
   * 
   * @function resetAutosaveId
   */
  const resetState = () => {
    setQuizName('');
    setQuestions([]);
    setQuizNameError(false);
    setEditingQuestion(null);
    setQuizNameHelperText('');
    setSelectedQuizType(QUIZ_TYPES.ABCD);
    setIsAbcd(true);
    setAutosaveId(null);
    if (formRef.current) {
      formRef.current.resetForm();
    }
  };

  /**
   * Handles snackbar close event
   * 
   * @function handleCloseSnackbar 
   */
  const handleCloseSnackbar = () => {
    setSnackbar(prev => ({ ...prev, open: false }));
  };

  /**
   * Creates or updates a quiz on the server
   * 
   * Validates quiz data, determines quiz type based on questions,
   * and sends the complete quiz to the server.
   * 
   * @async
   * @function handleCreateQuiz
   */
  const handleCreateQuiz = async () => {
    if (!quizName.trim()) {
      setQuizNameError(true);
      setQuizNameHelperText("Vyplňte název kvízu");
      return;
    }

    if (questions.length === 0) {
      alert('Přidejte alespoň jednu otázku');
      return;
    }

    // Validation for standalone Word Chain quiz
    const allWordChain = questions.every(q => q.type === "WORD_CHAIN");
    if (allWordChain &amp;&amp; questions.length === 1) {
      setSnackbar({
        open: true,
        message: 'Slovní řetěz nemůže být samostatný kvíz. Přidejte otázky jiného typu a vytvořte kombinovaný kvíz.',
        severity: 'error'
      });
      return;
    }

    // Validation for standalone Drawing quiz
    const allDrawing = questions.every(q => q.type === "DRAWING");
    if (allDrawing &amp;&amp; questions.length === 1) {
      setSnackbar({
        open: true,
        message: 'Kreslení nemůže být samostatný kvíz. Přidejte otázky jiného typu a vytvořte kombinovaný kvíz.',
        severity: 'error'
      });
      return;
    }

    try {
      setLoading(true);
      
      // No need to upload files again - just clean up the questions data
      const cleanedQuestions = questions.map(question => {
        // Remove any file references since we're using URLs now
        const { mediaFile, ...cleanQuestion } = question;
        return cleanQuestion;
      });

      let finalQuizType = selectedQuizType;
      
      const activeQuestions = questions.filter(q => 
        !(q._id &amp;&amp; deletedQuestionIds.has(q._id))
      );
      
      // Determine the quiz type based on the questions
      if (activeQuestions.length > 0) {
        const uniqueQuestionTypes = new Set(activeQuestions.map(q => q.type).filter(Boolean));
        
        if (uniqueQuestionTypes.size === 2 &amp;&amp; 
            uniqueQuestionTypes.has(QUESTION_TYPES.ABCD) &amp;&amp; 
            uniqueQuestionTypes.has(QUESTION_TYPES.TRUE_FALSE)) {
              finalQuizType = QUIZ_TYPES.ABCD; // True/False is a subset of ABCD
        } else if (uniqueQuestionTypes.size > 1) {
          finalQuizType = QUIZ_TYPES.COMBINED_QUIZ; // Any other combination is combined quiz
        } else {
          const firstType = Array.from(uniqueQuestionTypes)[0];
          if (firstType === QUESTION_TYPES.TRUE_FALSE) {
            finalQuizType = QUIZ_TYPES.ABCD;
          } else {
            finalQuizType = firstType;
          }
        }
      }

      // Create or update the quiz
      const endpoint = isEditing ? `/quiz/${quizId}/update` : '/create_quiz';
      const response = await fetch(endpoint, {
        method: isEditing ? 'PUT' : 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          name: quizName,
          questions: cleanedQuestions,
          type: finalQuizType,
          deletedQuestions: Array.from(deletedQuestionIds)
        }),
      });

      const data = await response.json();

      if (!response.ok) {
        throw new Error(data.error || 'Nepodařilo se vytvořit kvíz');
      }

      cleanupAutosave();
      
      resetState();
      navigate('/');
      
    } catch (error) {
      console.error('Error creating/updating quiz:', error);
      setSnackbar({
        open: true,
        message: `Chyba při vytváření/úpravě kvízu: ${error.message}`,
        severity: 'error'
      });
    } finally {
      setLoading(false);
    }
  };

  /**
   * Handles adding existing questions from the dialog
   * 
   * @function handleAddExistingQuestions
   * @param {Array} selectedQuestions - Array of selected questions to add
   */
  const handleAddExistingQuestions = (selectedQuestions) => {
    // The questions are already transformed by AddExistingQuestionDialog
    // Don't process them again, just add them directly to the questions state
    setQuestions([...questions, ...selectedQuestions]);
  };

  /**
   * Checks if the quiz already contains a Word Chain question
   * 
   * This is used to prevent adding a new Word Chain question if one already exists.
   * 
   * @function hasWordChainQuestion
   * @param {Array} questions - Array of existing questions
   * @returns {boolean} - True if a Word Chain question exists, false otherwise
   */
  const hasWordChainQuestion = (questions) => {
    return questions.some(q => q.type === QUIZ_TYPES.WORD_CHAIN);
  };

  /**
   * Checks if the quiz already contains a Drawing question
   * 
   * This is used to prevent adding a new Drawing question if one already exists.
   * 
   * @function hasDrawingQuestion
   * @param {Array} questions - Array of existing questions
   * @returns {boolean} - True if a Drawing question exists, false otherwise
   */
  const hasDrawingQuestion = (questions) => {
    return questions.some(q => q.type === QUIZ_TYPES.DRAWING);
  };

  return (
    &lt;Container 
      maxWidth="xl" 
      sx={{ 
        height: '100vh',
        py: 3,
        overflow: 'hidden'
      }}
    >
      &lt;Box sx={{ 
        height: '100%', 
        display: 'flex', 
        flexDirection: 'column',
        overflow: 'hidden'
      }}>
        &lt;Box sx={{ 
          display: 'flex', 
          gap: 2, 
          mb: 3,
          alignItems: 'center'
        }}>
          &lt;Typography sx={{ 
            whiteSpace: 'nowrap',
            fontSize: '1.1rem',
            fontWeight: 600,
            color: 'primary.main'
          }}>
            Vyberte typ otázky:
          &lt;/Typography>
          &lt;Select
            value={selectedQuizType}
            onChange={(e) => setSelectedQuizType(e.target.value)}
            sx={{ minWidth: 200 }}
            disabled={!!editingQuestion} // Disable changing question type when editing a question
          >
            &lt;MenuItem value={QUIZ_TYPES.ABCD}>ABCD, Pravda/lež&lt;/MenuItem>
            &lt;MenuItem value={QUIZ_TYPES.OPEN_ANSWER}>Otevřená odpověď&lt;/MenuItem>
            &lt;MenuItem value={QUIZ_TYPES.GUESS_A_NUMBER}>Hádej číslo&lt;/MenuItem>
            &lt;MenuItem value={QUIZ_TYPES.MATH_QUIZ}>Matematické rovnice&lt;/MenuItem>
            &lt;MenuItem value={QUIZ_TYPES.WORD_CHAIN}>Slovní řetěz&lt;/MenuItem>
            &lt;MenuItem value={QUIZ_TYPES.DRAWING}>Kreslení&lt;/MenuItem>
            &lt;MenuItem value={QUIZ_TYPES.BLIND_MAP}>Slepá mapa&lt;/MenuItem>
          &lt;/Select>
          &lt;TextField
            fullWidth
            label="Název kvízu"
            value={quizName}
            onChange={(e) => {
              setQuizName(e.target.value);
              setQuizNameError(false);
              setQuizNameHelperText('');
            }}
            error={quizNameError || quizName.length > QUIZ_VALIDATION.QUIZ_NAME_MAX_LENGTH}
            helperText={
              quizNameHelperText || 
              (quizName.length > QUIZ_VALIDATION.QUIZ_NAME_MAX_LENGTH 
                ? `Název kvízu nesmí být delší než ${QUIZ_VALIDATION.QUIZ_NAME_MAX_LENGTH} znaků` 
                : '')
            }
            sx={{
              '&amp; .MuiInputLabel-shrink': {
                transform: 'translate(14px, -4px) scale(0.75)',
              }
            }}
          />
            &lt;Box sx={{ 
              display: 'flex', 
              alignItems: 'center',
              gap: 2
            }}>
              {lastAutosaved &amp;&amp; !isEditing &amp;&amp; (
                &lt;Box sx={{ display: 'flex', flexDirection: 'column', gap: 0.5 }}>
                  &lt;Typography variant="caption" color="text.secondary">
                    Automaticky uloženo
                  &lt;/Typography>
                  &lt;Typography variant="caption" color="text.secondary">
                    v {lastAutosaved.toLocaleTimeString()}
                  &lt;/Typography>
                &lt;/Box>
              )}
              &lt;Button 
                variant="outlined" 
                onClick={handleBackToHome}
                color="error"
                sx={{ 
                  whiteSpace: 'nowrap', 
                  minWidth: '150px',
                  height: '56px'
                }}
              >
                Zpět domů
              &lt;/Button>
            &lt;/Box>
        &lt;/Box>
        
        &lt;Box sx={{ 
          display: 'grid', 
          gridTemplateColumns: '1fr 1fr', 
          gap: 3,
          flexGrow: 1,
          overflow: 'hidden',
          height: 'calc(100% - 80px)'
        }}>
          &lt;Box sx={{ 
            display: 'flex',
            flexDirection: 'column',
            p: 3, 
            border: '1px solid', 
            borderColor: 'divider',
            borderRadius: 1,
            height: '100%',
            overflow: 'hidden'
          }}>
            {selectedQuizType === QUIZ_TYPES.ABCD &amp;&amp; (
              &lt;Button 
                variant="outlined" 
                onClick={toggleQuestionType}
                sx={{ mb: 2 }}
              >
                Přepnout na {isAbcd ? 'Pravda/Lež' : 'ABCD'}
              &lt;/Button>
            )}

            &lt;Box sx={{
              display: 'flex',
              flexDirection: 'column',
              height: '100%',
              overflow: 'hidden'
            }}>
              &lt;Box sx={{ 
                flexGrow: 1,
                overflow: 'auto',
                pr: 2,
                ...scrollbarStyle
              }}>
                {selectedQuizType === QUIZ_TYPES.ABCD ? (
                  &lt;QuestionForm 
                    ref={formRef}
                    onSubmit={handleAddQuestion}
                    editQuestion={editingQuestion}
                    isAbcd={isAbcd}
                  />
                ) : selectedQuizType === QUIZ_TYPES.OPEN_ANSWER ? (
                  &lt;OpenAnswerForm
                    ref={formRef}
                    onSubmit={handleAddQuestion}
                    editQuestion={editingQuestion}
                  />
                ) : selectedQuizType === QUIZ_TYPES.GUESS_A_NUMBER ? (
                  &lt;GuessANumberForm
                    ref={formRef}
                    onSubmit={handleAddQuestion}
                    editQuestion={editingQuestion}
                  />
                ) : selectedQuizType === QUIZ_TYPES.MATH_QUIZ ? (
                  &lt;MathQuizForm
                    ref={formRef}
                    onSubmit={handleAddQuestion}
                    editQuestion={editingQuestion}
                  />
                ) : selectedQuizType === QUIZ_TYPES.WORD_CHAIN ? (
                  &lt;WordChainForm
                    ref={formRef}
                    onSubmit={handleAddQuestion}
                    editQuestion={editingQuestion}
                  />
                ) : selectedQuizType === QUIZ_TYPES.DRAWING ? (
                  &lt;DrawingForm
                    ref={formRef}
                    onSubmit={handleAddQuestion}
                    editQuestion={editingQuestion}
                  />
                ) : selectedQuizType === QUIZ_TYPES.BLIND_MAP ? (
                  &lt;BlindMapForm
                    ref={formRef}
                    onSubmit={handleAddQuestion}
                    editQuestion={editingQuestion}
                  />
                ) : null}
              &lt;/Box>

              &lt;Box sx={{ pt: 2, borderTop: '1px solid', borderColor: 'divider' }}>
                &lt;Button 
                  variant="contained" 
                  fullWidth
                  onClick={handleAddQuestionClick}
                  // Use direct ref check to see if file is uploading, and disable if already have Word Chain/Drawing question, which can only be one per quiz
                  disabled={isUploading || loading || 
                    ((selectedQuizType === QUIZ_TYPES.WORD_CHAIN &amp;&amp; hasWordChainQuestion(questions) &amp;&amp; !editingQuestion) ||
                     (selectedQuizType === QUIZ_TYPES.DRAWING &amp;&amp; hasDrawingQuestion(questions) &amp;&amp; !editingQuestion))}
                >
                  {isUploading 
                    ? 'Nahrávání souboru...' 
                    : (selectedQuizType === QUIZ_TYPES.WORD_CHAIN &amp;&amp; hasWordChainQuestion(questions) &amp;&amp; !editingQuestion)
                      ? 'Pouze jeden Slovní řetěz na kvíz'
                      : (selectedQuizType === QUIZ_TYPES.DRAWING &amp;&amp; hasDrawingQuestion(questions) &amp;&amp; !editingQuestion)
                        ? 'Pouze jedno Kreslení na kvíz'
                        : (editingQuestion ? 'Aktualizovat otázku' : 'Přidat otázku')}
                &lt;/Button>
              &lt;/Box>
            &lt;/Box>
          &lt;/Box>
          
          &lt;Box sx={{ 
            display: 'flex',
            flexDirection: 'column',
            p: 3, 
            border: '1px solid', 
            borderColor: 'divider',
            borderRadius: 1,
            height: '100%',
            overflow: 'hidden'
          }}>
            &lt;Box sx={{ 
              display: 'flex', 
              justifyContent: 'space-between', 
              alignItems: 'center',
              mb: 2 
            }}>
              &lt;Typography variant="h6">Náhled kvízu&lt;/Typography>
              &lt;Button 
                variant="outlined" 
                onClick={() => setExistingQuestionsDialogOpen(true)}
              >
                Přidat existující otázku
              &lt;/Button>
            &lt;/Box>
            &lt;Box sx={{ 
              flexGrow: 1,
              overflow: 'auto',
              pr: 2,
              ...scrollbarStyle
            }}>
              &lt;DndContext
                sensors={sensors}
                collisionDetection={closestCenter}
                onDragStart={handleDragStart}
                onDragEnd={handleDragEnd}
              >
                &lt;QuestionPreview
                  questions={questions || []}
                  onDelete={handleDeleteQuestion}
                  onEdit={handleEditQuestion}
                  onMove={handleMoveQuestion}
                />
              &lt;/DndContext>
            &lt;/Box>
            &lt;Box sx={{ pt: 2, borderTop: '1px solid', borderColor: 'divider' }}>
              &lt;Button 
                variant="contained" 
                fullWidth 
                onClick={handleCreateQuiz}
                disabled={questions.length === 0 || loading}
              >
                {loading ? 'Zpracování...' : isEditing ? 'Aktualizovat kvíz' : 'Vytvořit kvíz'}
              &lt;/Button>
            &lt;/Box>
          &lt;/Box>
        &lt;/Box>
      &lt;/Box>
      &lt;Snackbar
        open={snackbar.open}
        autoHideDuration={6000}
        onClose={handleCloseSnackbar}
        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}
      >
        &lt;Alert 
          onClose={handleCloseSnackbar} 
          severity={snackbar.severity}
          sx={{ width: '100%' }}
        >
          {snackbar.message}
        &lt;/Alert>
      &lt;/Snackbar>
      
      &lt;AddExistingQuestionDialog 
        open={existingQuestionsDialogOpen}
        onClose={() => setExistingQuestionsDialogOpen(false)}
        onAddQuestions={handleAddExistingQuestions}
      />

    &lt;/Container>
  );
};

export default CreateQuizPage;</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
