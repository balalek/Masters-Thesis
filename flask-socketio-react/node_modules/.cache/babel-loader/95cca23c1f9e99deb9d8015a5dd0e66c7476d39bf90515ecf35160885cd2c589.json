{"ast":null,"code":"import React,{useEffect,useState}from'react';import io from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io();const MobileView=()=>{const[message,setMessage]=useState('');const[messages,setMessages]=useState([]);useEffect(()=>{socket.on('connect',()=>{console.log('Connected to server');});socket.on('receive_message',data=>{setMessages(prevMessages=>[...prevMessages,data]);});return()=>{socket.off('connect');socket.off('receive_message');};},[]);const sendMessage=()=>{socket.emit('send_message',message);setMessage('');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Flask-SocketIO Mobile\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:e=>setMessage(e.target.value),placeholder:\"Enter a message\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"Send\"}),/*#__PURE__*/_jsx(\"div\",{children:messages.map((msg,index)=>/*#__PURE__*/_jsx(\"p\",{children:msg},index))})]});};export default MobileView;","map":{"version":3,"names":["React","useEffect","useState","io","jsx","_jsx","jsxs","_jsxs","socket","MobileView","message","setMessage","messages","setMessages","on","console","log","data","prevMessages","off","sendMessage","emit","children","type","value","onChange","e","target","placeholder","onClick","map","msg","index"],"sources":["C:/Users/balal/Desktop/diplomka2/flask-socketio-react/src/MobileView.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nconst socket = io();\r\n\r\nconst MobileView = () => {\r\n  const [message, setMessage] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    socket.on('connect', () => {\r\n      console.log('Connected to server');\r\n    });\r\n\r\n    socket.on('receive_message', (data) => {\r\n      setMessages((prevMessages) => [...prevMessages, data]);\r\n    });\r\n\r\n    return () => {\r\n      socket.off('connect');\r\n      socket.off('receive_message');\r\n    };\r\n  }, []);\r\n\r\n  const sendMessage = () => {\r\n    socket.emit('send_message', message);\r\n    setMessage('');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Flask-SocketIO Mobile</h1>\r\n      <input\r\n        type=\"text\"\r\n        value={message}\r\n        onChange={(e) => setMessage(e.target.value)}\r\n        placeholder=\"Enter a message\"\r\n      />\r\n      <button onClick={sendMessage}>Send</button>\r\n      <div>\r\n        {messages.map((msg, index) => (\r\n          <p key={index}>{msg}</p>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MobileView;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,MAAM,CAAGL,EAAE,CAAC,CAAC,CAEnB,KAAM,CAAAM,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACdO,MAAM,CAACM,EAAE,CAAC,SAAS,CAAE,IAAM,CACzBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CACpC,CAAC,CAAC,CAEFR,MAAM,CAACM,EAAE,CAAC,iBAAiB,CAAGG,IAAI,EAAK,CACrCJ,WAAW,CAAEK,YAAY,EAAK,CAAC,GAAGA,YAAY,CAAED,IAAI,CAAC,CAAC,CACxD,CAAC,CAAC,CAEF,MAAO,IAAM,CACXT,MAAM,CAACW,GAAG,CAAC,SAAS,CAAC,CACrBX,MAAM,CAACW,GAAG,CAAC,iBAAiB,CAAC,CAC/B,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxBZ,MAAM,CAACa,IAAI,CAAC,cAAc,CAAEX,OAAO,CAAC,CACpCC,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CAED,mBACEJ,KAAA,QAAAe,QAAA,eACEjB,IAAA,OAAAiB,QAAA,CAAI,uBAAqB,CAAI,CAAC,cAC9BjB,IAAA,UACEkB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEd,OAAQ,CACfe,QAAQ,CAAGC,CAAC,EAAKf,UAAU,CAACe,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC5CI,WAAW,CAAC,iBAAiB,CAC9B,CAAC,cACFvB,IAAA,WAAQwB,OAAO,CAAET,WAAY,CAAAE,QAAA,CAAC,MAAI,CAAQ,CAAC,cAC3CjB,IAAA,QAAAiB,QAAA,CACGV,QAAQ,CAACkB,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBACvB3B,IAAA,MAAAiB,QAAA,CAAgBS,GAAG,EAAXC,KAAe,CACxB,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAvB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}